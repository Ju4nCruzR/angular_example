<div *ngIf="ciudad">
  <h2>Detalle de {{ ciudad.ciudad.nombreCiudad }}</h2>
  <p>Impuestos de entrada: {{ ciudad.ciudad.impuestosDeEntradaCiudad }}</p>

  <!-- Productos -->
  <h3>Productos disponibles</h3>
  <ul>
    <li *ngFor="let p of ciudad.productos">
      {{ p.nombreProducto }} (Stock: {{ p.stockProducto }})

      <label for="stock-{{p.id}}" class="visually-hidden">Nuevo stock</label>
      <input id="stock-{{p.id}}" type="number" [(ngModel)]="nuevoStock[p.id]" placeholder="Nuevo stock" />
      <button (click)="actualizarStock(p.id)">Actualizar stock</button>
      <button (click)="eliminarProducto(p.productoId)">Eliminar producto</button>
    </li>
  </ul>

  <div>
    <label for="nuevoProductoId">ID de producto:</label>
    <input id="nuevoProductoId" type="number" [(ngModel)]="nuevoProductoId" placeholder="Ej: 1" />

    <label for="stockNuevoProducto">Stock inicial:</label>
    <input id="stockNuevoProducto" type="number" [(ngModel)]="stockNuevoProducto" placeholder="Ej: 10" />

    <button (click)="agregarProducto()">Agregar producto</button>
  </div>

  <hr />

  <!-- Servicios -->
  <h3>Servicios disponibles</h3>
  <ul>
    <li *ngFor="let s of ciudad.servicios">
      {{ s.nombreServicio }} - Precio: {{ s.precio }} {{ s.adquirido ? '(Adquirido)' : '' }}
      <button *ngIf="!s.adquirido" (click)="adquirirServicio(s.id)">Marcar como adquirido</button>
      <button (click)="eliminarServicio(s.id)">Eliminar</button>
    </li>
  </ul>

  <hr />

  <!-- Rutas -->
  <h3>Rutas</h3>
  <ul>
    <li *ngFor="let r of ciudad.rutas">
      A {{ r.destinoNombre }} - Distancia: {{ r.distancia }} km - {{ r.esSegura ? 'Segura' : 'Peligrosa' }}
      <button (click)="eliminarRuta(r.id)">Eliminar</button>
    </li>
  </ul>

  <div>
    <label for="nuevaRutaId">ID de ruta:</label>
    <input id="nuevaRutaId" type="number" [(ngModel)]="nuevaRutaId" placeholder="Ej: 2" />
    <button (click)="agregarRuta()">Agregar ruta</button>
  </div>
</div>
