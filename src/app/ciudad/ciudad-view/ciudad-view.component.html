<h2>Detalle de Ciudad</h2>

<div *ngIf="detalle">
  <p><strong>Nombre:</strong> {{ detalle.ciudad.nombreCiudad }}</p>
  <p><strong>Impuestos de entrada:</strong> {{ detalle.ciudad.impuestosDeEntradaCiudad }}</p>

  <hr />

  <h3>Navegación</h3>
  <a [routerLink]="['/ciudad', detalle.ciudad.id, 'productos']">
    <button>🧺 Ver Productos</button>
  </a>
  <a [routerLink]="['/ciudad', detalle.ciudad.id, 'servicios']">
    <button>🧴 Ver Servicios</button>
  </a>
  <a [routerLink]="['/ciudad', detalle.ciudad.id, 'rutas']">
    <button>🛣️ Ver Rutas</button>
  </a>

  <hr />

  <h3>Productos Disponibles</h3>
  <ul *ngIf="detalle.productos.length > 0; else sinProductos">
    <li *ngFor="let producto of detalle.productos">
      {{ producto.nombreProducto }} - Stock: {{ producto.stockProducto }}
    </li>
  </ul>
  <ng-template #sinProductos><p>No hay productos asociados.</p></ng-template>

  <h3>Servicios</h3>
  <ul *ngIf="detalle.servicios.length > 0; else sinServicios">
    <li *ngFor="let servicio of detalle.servicios">
      {{ servicio.nombreServicio }} - Precio: {{ servicio.precio }} - 
      <span *ngIf="servicio.adquirido">✅ Adquirido</span>
    </li>
  </ul>
  <ng-template #sinServicios><p>No hay servicios asociados.</p></ng-template>

  <h3>Rutas</h3>
  <ul *ngIf="detalle.rutas.length > 0; else sinRutas">
    <li *ngFor="let ruta of detalle.rutas">
      Hacia {{ ruta.destinoNombre }} - {{ ruta.distancia }} km - 
      <span [style.color]="ruta.esSegura ? 'green' : 'red'">
        {{ ruta.esSegura ? 'Segura' : 'Peligrosa' }}
      </span>
    </li>
  </ul>
  <ng-template #sinRutas><p>No hay rutas asociadas.</p></ng-template>

  <hr />

  <a [routerLink]="['/ciudad', detalle.ciudad.id, 'editar']">✏️ Editar Ciudad</a>
  <a routerLink="/ciudades">🔙 Volver a la lista</a>
</div>
